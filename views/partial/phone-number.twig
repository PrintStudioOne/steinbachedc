{# 1-800-555-5555 #}
{% if phoneNumber|length == 7 %}
  {% set telephonePrefix = phoneNumber|slice(0, 3) %}
  {% set lineNumber = phoneNumber|slice(3, 4) %}
  {% set phone = telephonePrefix ~ '-' ~ lineNumber %}
{% elseif phoneNumber|length == 10 %}
  {% set areaCode = phoneNumber|slice(0, 3) %}
  {% set telephonePrefix = phoneNumber|slice(3, 3) %}
  {% set lineNumber = phoneNumber|slice(6, 4) %}
  {% set phone = areaCode ~ '-' ~ telephonePrefix ~ '-' ~ lineNumber %}
{% elseif phoneNumber|length == 11 %}
  {% set countryCode = phoneNumber|slice(0, 1) %}
  {% set areaCode = phoneNumber|slice(1, 3) %}
  {% set telephonePrefix = phoneNumber|slice(4, 3) %}
  {% set lineNumber = phoneNumber|slice(7, 4) %}
  {% set phone = countryCode ~ '-' ~ areaCode ~ '-' ~ telephonePrefix ~ '-' ~ lineNumber %}
{% else %}
  {{ phoneNumber }}
{% endif %}
{{ phone }}

{# 1.800.555.5555 #}
{# {% if phoneNumber|length == 10 %}
  {% set areaCode = phoneNumber|slice(0, 3) %}
  {% set telephonePrefix = phoneNumber|slice(3, 3) %}
  {% set lineNumber = phoneNumber|slice(6, 4) %}
  {% set phone = areaCode ~ '.' ~ telephonePrefix ~ '.' ~ lineNumber %}
{% elseif phoneNumber|length == 11 %}
  {% set countryCode = phoneNumber|slice(0, 1) %}
  {% set areaCode = phoneNumber|slice(1, 3) %}
  {% set telephonePrefix = phoneNumber|slice(4, 3) %}
  {% set lineNumber = phoneNumber|slice(7, 4) %}
  {% set phone = countryCode ~ '.' ~ areaCode ~ '.' ~ telephonePrefix ~ '.' ~ lineNumber %}
{% else %}
  {{ phoneNumber }}
{% endif %}
{{ phone }} #}

{# 1 (800) 555-5555 #}
{# {% if phoneNumber|length == 10 %}
  {% set areaCode = phoneNumber|slice(0, 3) %}
  {% set telephonePrefix = phoneNumber|slice(3, 3) %}
  {% set lineNumber = phoneNumber|slice(6, 4) %}
  {% set phone = '(' ~ areaCode ~ ') ' ~ telephonePrefix ~ '-' ~ lineNumber %}
{% elseif phoneNumber|length == 11 %}
  {% set countryCode = phoneNumber|slice(0, 1) %}
  {% set areaCode = phoneNumber|slice(1, 3) %}
  {% set telephonePrefix = phoneNumber|slice(4, 3) %}
  {% set lineNumber = phoneNumber|slice(7, 4) %}
  {% set phone = countryCode ~ '(' ~ areaCode ~ ') ' ~ telephonePrefix ~ '-' ~ lineNumber %}
{% else %}
  {{ phoneNumber }}
{% endif %}
{{ phone }} #}